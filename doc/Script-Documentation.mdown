Detailed script overview
========================

The developer of the WikiToLearn is supposed to only run the scripts contained
in `./WikiToLearnHome` folder, according to the given instructions, since these
bundle all the basic operations that one would do to the WTL local instance.

These scripts

For a detailed variable overview read the relative section.

### Production and Environment

WTL can be run with different purposes.

First of all it can either be run in
*production* mode, for example as in the main production website or as in
the various staging websites, or in *non-production* mode, which can be local
development, or testing new servers and services.

Secondly, WTL environtment can be *basic* , i.e. it runs on a single node (or
host), or it can be spread into multiple georeplicated nodes ( *multiple nodes*
environtment).
We are currently working on georeplication, so this feature is not ready yet.

### Layers

The scripts are organized in *layers*. The first layer is the *interacion* layer
and is constituted by the scripts that the end user should use to interact with
its WTL repo.

The second layer is the *atomic* layer, and is contituted by single operations
that the user could perform on its WTL repo. These guarantee a finer control
over the WTL repo. Interaction layer scripts are composed by cobinations of
atomic layer sripts.

The third layer is the *helper* layer, and is constituted by scripts that
are environment-dependent.

#### Interaction Layer

#### Atomic Layer

#### Helper Layer

##### Basic Environment

##### Multiple nodes environtment

> Waiting for Luca to Implement this

Global Variables List
---------------------

* WTL_PRODUCTION

* WTL_CONFIG_FILE




Draft Section
-------------

### const.sh

cd in current directory
Defines environment variables

### create-config.sh

Create user config "$WTL\_CONFIG\_FILE"

Instance, url, github token (composer), plugins for
customization  ($WTL\_USE\_DEFAULT)

### download-code.sh

pull, submodule init

warning: discard changes!

### active-instance

the old use instance: let's start everything

calls load-libs

we create a new instance (eg when shipping new versions= zero downtime)

### load-libs

?????

### run-all

upstart
